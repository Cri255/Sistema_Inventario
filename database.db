-- Crear base de datos
CREATE DATABASE IF NOT EXISTS inventario;
USE inventario;

-- Crear tabla de materiales
CREATE TABLE IF NOT EXISTS materiales (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(255) NOT NULL
);

-- Crear tabla de recepciones
CREATE TABLE IF NOT EXISTS recepciones (
    id INT AUTO_INCREMENT PRIMARY KEY,
    fecha DATETIME DEFAULT CURRENT_TIMESTAMP,
    material_id INT,
    cantidad FLOAT NOT NULL,
    FOREIGN KEY (material_id) REFERENCES materiales(id)
);

-- Crear tabla de frituras
CREATE TABLE IF NOT EXISTS frituras (
    id INT AUTO_INCREMENT PRIMARY KEY,
    fecha DATETIME DEFAULT CURRENT_TIMESTAMP,
    material_id INT,
    cantidad FLOAT NOT NULL,
    FOREIGN KEY (material_id) REFERENCES materiales(id)
);

-- Crear tabla de empaques
CREATE TABLE IF NOT EXISTS empaques (
    id INT AUTO_INCREMENT PRIMARY KEY,
    fecha DATETIME DEFAULT CURRENT_TIMESTAMP,
    material_id INT,
    cantidad FLOAT NOT NULL,
    FOREIGN KEY (material_id) REFERENCES materiales(id)
);

-- Crear tabla de inventario
CREATE TABLE IF NOT EXISTS inventario (
    material_id INT PRIMARY KEY,
    cantidad FLOAT DEFAULT 0,
    FOREIGN KEY (material_id) REFERENCES materiales(id)
);

-- Crear tabla de usuarios para autenticación
CREATE TABLE IF NOT EXISTS usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL, -- Asegúrate de usar un hash para las contraseñas en producción
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
